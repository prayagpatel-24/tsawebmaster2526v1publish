<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Community Group - Ripple</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700&family=Courgette&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&family=Old+Standard+TT:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="community-group.css">
</head>
<body>
  <div id="bubble-layer"></div>

  <div class="page">
    <div id="header-placeholder"></div>

    <main class="group-page">
      <section class="group-card">
        <div class="group-media" id="groupMedia">
          <div class="group-media-fallback">Image Placeholder</div>
        </div>
        <h1 class="group-title" id="groupTitle">Community Group</h1>
        <p class="group-description" id="groupDescription">Connect with people in your community.</p>
        <div class="group-actions">
          <a class="join-facebook-btn" id="groupJoinBtn" href="#" target="_blank" rel="noopener noreferrer">Join on Facebook</a>
          <a class="back-btn" href="communites.html">Back to Communities</a>
        </div>
      </section>
    </main>

    <div class="coral-strip">
      <img src="transparentson.png" alt="Coral ocean artwork">
    </div>

    <footer class="footer">
      <div id="footer-placeholder"></div>
    </footer>
  </div>

  <script>
    const groups = {
      environmental: {
        title: "Keep Forsyth County Beautiful",
        description: "Keep Forsyth County Beautiful is a volunteer based community driven organization that is dedicated to improving Forsyth environmentally. It focuses on litter prevention, waste reduction, recycling and improvement of water quality. Join this group to be connected with people who are determined to make our community a better place to live!",
        image: "img/communities/622410376_1187874040205410_8367226761029611234_n.jpg",
        joinUrl: "https://www.facebook.com/KFCBorg/mentions/"
      },
      mental: {
        title: "Forsyth Speaks",
        description: "Forsyth Speaks is a mental health association that offers free counseling and support to the community. It is determined in reducing mental health issues and making sure everyone gets the support they need. Join to be connected with people that can help you with any mental health related issues you may have!",
        image: "img/communities/474451026_649662787384960_763216899448746896_n.jpg",
        joinUrl: "https://www.facebook.com/forsythspeaks/"
      },
      volunteer: {
        title: "Forsyth AYLUS",
        description: "Forsyth AYLUS is a local youth lead volunteer organization that provides students from all over the county the opportunity to make a difference in their community. They host monthly events that include park cleanups, donation drives, and local business volunteering. Join to be part of a positive community that can help you gain both volunteer hours and help you make a difference!",
        image: "img/Aylus.jpg",
        joinUrl: "https://forsythaylus.org"
      },
      events: {
        title: "Cumming City Center",
        description: "Cumming City Center hosts a multiple of engaging events for the community throughout the year. They provide the opportunity to connect with the people in your community and gain new friendships. Join to know about upcoming events and stay in tune with what's going on in your community!",
        image: "img/communities/480365149_943399527967039_7163101246826518448_n.jpg",
        joinUrl: "https://www.facebook.com/cummingcitycenter/"
      },
      donation: {
        title: "The Place",
        description: "The Place is a local community thrift store where you can donate items that will be provided to people in need for a low price. This helps the community and also provides you an opportunity to allow your old items to be reused. Join to support the cause and learn more about upcoming donation drives!",
        image: "img/communities/486792101_1196032895861818_4765773220210726901_n.jpg",
        joinUrl: "https://www.facebook.com/theplacethriftstore/"
      }
    };

    function renderGroup() {
      const params = new URLSearchParams(window.location.search);
      const key = params.get("group") || "environmental";
      const group = groups[key] || groups.environmental;

      const titleEl = document.getElementById("groupTitle");
      const descriptionEl = document.getElementById("groupDescription");
      const joinBtnEl = document.getElementById("groupJoinBtn");
      const mediaEl = document.getElementById("groupMedia");

      titleEl.textContent = group.title;
      descriptionEl.textContent = group.description;
      joinBtnEl.href = group.joinUrl;

      if (group.image) {
        mediaEl.innerHTML = `<img src="${group.image}" alt="${group.title} image">`;
      } else {
        mediaEl.innerHTML = '<div class="group-media-fallback">Image Placeholder</div>';
      }
    }

    renderGroup();
  </script>

  <script src="bubbles.js"></script>
  <script src="bubble-nav.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const footerPlaceholder = document.getElementById('footer-placeholder');
      if (footerPlaceholder) {
        fetch('footer.html')
          .then(response => response.text())
          .then(html => {
            footerPlaceholder.innerHTML = html;
          })
          .catch(error => {
            console.error('Error loading footer:', error);
          });
      }
    });
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const headerPlaceholder = document.getElementById('header-placeholder');
      if (!headerPlaceholder) return;

      fetch('header.html')
        .then(response => response.text())
        .then(html => {
          headerPlaceholder.innerHTML = html;

          const links = headerPlaceholder.querySelectorAll('.nav-link');
          links.forEach(link => {
            const href = link.getAttribute('href');
            link.classList.toggle('active', href === 'communites.html');
          });

          const hamburger = headerPlaceholder.querySelector('.hamburger');
          const navLinks = headerPlaceholder.querySelector('.nav-links');
          if (hamburger && navLinks) {
            hamburger.addEventListener('click', function (event) {
              event.stopPropagation();
              navLinks.classList.toggle('open');
            });

            document.addEventListener('click', function (event) {
              if (!navLinks.contains(event.target) && !hamburger.contains(event.target)) {
                navLinks.classList.remove('open');
              }
            });

            const navLinkElements = headerPlaceholder.querySelectorAll('.nav-link');
            navLinkElements.forEach(link => {
              link.addEventListener('click', function () {
                navLinks.classList.remove('open');
              });
            });
          }
        })
        .catch(error => {
          console.error('Error loading header:', error);
        });
    });
  </script>
  <script src="bubble-transition.js"></script>
</body>
</html>
