<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Home</title>
</head>
<style>
  .title-area{background-color:#e6f6ff;display:flex;justify-content:center;padding:48px 16px}
  .title-box{max-width:560px;text-align:center}
  .title{margin:0 0 8px;font-size:1.5rem}
  .title-text{margin:0 0 16px;color:#333}
  .ripple-btn{width:120px;height:36px;border:1px solid #84aefe;background:transparent;border-radius:6px;background-color: #84aefe;color: white;}
  .reg-text{margin:0 0 16px;color:#333}

  .mission-area{background-color:#ffffff;display:flex;justify-content:center;padding:48px 16px}
</style>
<body>
  <div id="header-placeholder"></div>
  <main>
    <!--<section class="title-area">
      <div class="title-box">
          <h1 class="title">Creating ripples of change</h1>
          <h1 class="title">across our community</h1>
          <p class="title-text">Make an impact, one ripple at a time</p>
          <button class="ripple-btn" aria-label="Action"><b>Start your Ripple Today</b></button>
        </div>
      </section>
      <section class="mission-area">
        <div class="title-box">
          <h3 class="title">Our Mision</h3>
          <p class="reg-text">Ripple connects community members with meaningful opportunities to create positive change. We believe that small actions create ripples of impact across neighborhoods, bringing people together to support mental health, volunteer for causes, protect the environment, and celebrate community through local events.</p>
          <button class="ripple-btn" aria-label="Action">Start your Ripple Today</button>
        </div>
      </section>-->
    </main>
    
    <!--<div id="footer-placeholder"></div>-->
    
      </div>
    </section>
  </main>


  <script>
      async function includeHeader(){
        try{
          const res = await fetch('main.html');
          const text = await res.text();
          document.getElementById('header-placeholder').innerHTML = text;
          
          // Initialize hamburger menu after content is loaded
          setTimeout(() => {
            const hamburger = document.querySelector('.hamburger');
            const navLinks = document.querySelector('.nav-links');
            
            if (hamburger && navLinks) {
              hamburger.addEventListener('click', function() {
                navLinks.classList.toggle('open');
              });
              
              // Close menu when clicking outside or on a link
              document.addEventListener('click', function(event) {
                if (!hamburger.contains(event.target) && !navLinks.contains(event.target)) {
                  navLinks.classList.remove('open');
                }
              });
              
              // Close menu when clicking on a nav link
              const navLinkElements = document.querySelectorAll('.nav-link');
              navLinkElements.forEach(link => {
                link.addEventListener('click', function() {
                  navLinks.classList.remove('open');
                });
              });
            }
          }, 100);
        }catch(e){
          console.warn('Header include failed:', e);
        }
        /*try{
          const fres = await fetch('footer.html');
          const ftext = await fres.text();
          document.getElementById('footer-placeholder').innerHTML = ftext;
        }catch(e){
          console.warn('Footer include failed:', e);
        }*/
      }
      includeHeader();
  </script>

  <!-- Firebase SDK -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBguT9BsQHwsAwAd3mbEmj3S5E7GtR_IBU",
      authDomain: "webmaster-v4-0.firebaseapp.com",
      projectId: "webmaster-v4-0",
      storageBucket: "webmaster-v4-0.firebasestorage.app",
      messagingSenderId: "413556961992",
      appId: "1:413556961992:web:899600895ecb68eb9debfd"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    window.signOutUser = function() {
      signOut(auth).then(() => {
        alert('Signed out successfully!');
        location.reload();
      }).catch((error) => {
        console.error('Sign out error:', error);
      });
    };

    onAuthStateChanged(auth, (user) => {
      const avatar = document.querySelector('.avatar');
      const navRight = document.querySelector('.nav-right');
      if (user) {
        // User is signed in
        const initial = user.email.charAt(0).toUpperCase();
        if (avatar) {
          avatar.textContent = initial;
        }
        // Remove sign in button if exists
        const signInBtn = document.querySelector('.sign-in-btn');
        if (signInBtn) {
          signInBtn.remove();
        }
        // Add sign out button
        if (navRight && !document.querySelector('.sign-out-btn')) {
          const signOutBtn = document.createElement('button');
          signOutBtn.textContent = 'Sign Out';
          signOutBtn.className = 'sign-out-btn';
          signOutBtn.style.padding = '8px 16px';
          signOutBtn.style.background = 'linear-gradient(to bottom, #ef4444, #dc2626)';
          signOutBtn.style.color = 'white';
          signOutBtn.style.border = 'none';
          signOutBtn.style.borderRadius = '999px';
          signOutBtn.style.cursor = 'pointer';
          signOutBtn.style.fontSize = '14px';
          signOutBtn.style.fontWeight = '600';
          signOutBtn.style.boxShadow = '0 4px 12px rgba(239, 68, 68, 0.25)';
          signOutBtn.style.transition = 'transform 0.1s ease, box-shadow 0.1s ease';
          signOutBtn.onclick = window.signOutUser;
          signOutBtn.onmouseover = () => {
            signOutBtn.style.transform = 'translateY(-1px)';
            signOutBtn.style.boxShadow = '0 6px 16px rgba(239, 68, 68, 0.35)';
          };
          signOutBtn.onmouseout = () => {
            signOutBtn.style.transform = 'translateY(0)';
            signOutBtn.style.boxShadow = '0 4px 12px rgba(239, 68, 68, 0.25)';
          };
          navRight.appendChild(signOutBtn);
        }
      } else {
        // User is signed out
        if (avatar) {
          avatar.textContent = ''; // or default
        }
        // Remove sign out button if exists
        const signOutBtn = document.querySelector('.sign-out-btn');
        if (signOutBtn) {
          signOutBtn.remove();
        }
        // Add sign in button
        if (navRight && !document.querySelector('.sign-in-btn')) {
          const signInBtn = document.createElement('button');
          signInBtn.textContent = 'Sign In';
          signInBtn.className = 'sign-in-btn';
          signInBtn.style.padding = '8px 16px';
          signInBtn.style.background = 'linear-gradient(to bottom, #4c7dff, #2e63e5)';
          signInBtn.style.color = 'white';
          signInBtn.style.border = 'none';
          signInBtn.style.borderRadius = '999px';
          signInBtn.style.cursor = 'pointer';
          signInBtn.style.fontSize = '14px';
          signInBtn.style.fontWeight = '600';
          signInBtn.style.boxShadow = '0 4px 12px rgba(76, 125, 255, 0.25)';
          signInBtn.style.transition = 'transform 0.1s ease, box-shadow 0.1s ease';
          signInBtn.onclick = () => window.location.href = 'index.html';
          signInBtn.onmouseover = () => {
            signInBtn.style.transform = 'translateY(-1px)';
            signInBtn.style.boxShadow = '0 6px 16px rgba(76, 125, 255, 0.35)';
          };
          signInBtn.onmouseout = () => {
            signInBtn.style.transform = 'translateY(0)';
            signInBtn.style.boxShadow = '0 4px 12px rgba(76, 125, 255, 0.25)';
          };
          navRight.appendChild(signInBtn);
        }
      }
    });
  </script>
</body>
</html>
